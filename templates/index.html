<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transcript Fact Checker - Verify Claims in Real-Time</title>
    <link rel="stylesheet" href="/static/css/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header class="header">
            <div class="container">
                <h1 class="logo">
                    <i class="fas fa-check-circle"></i>
                    Transcript Fact Checker
                </h1>
                <p class="tagline">Verify claims in speeches, interviews, and transcripts with AI-powered fact-checking</p>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <div class="container">
                <!-- Input Section -->
                <section class="input-section" id="input-section">
                    <h2>Choose Your Input Method</h2>
                    
                    <!-- Input Type Tabs -->
                    <div class="input-tabs">
                        <button class="tab-button active" data-tab="text">
                            <i class="fas fa-keyboard"></i>
                            Text Input
                        </button>
                        <button class="tab-button" data-tab="file">
                            <i class="fas fa-file-upload"></i>
                            Upload File
                        </button>
                        <button class="tab-button" data-tab="youtube">
                            <i class="fab fa-youtube"></i>
                            YouTube Video
                        </button>
                    </div>

                    <!-- Text Input -->
                    <div class="input-panel active" id="text-panel">
                        <textarea 
                            id="text-input" 
                            placeholder="Paste your transcript here... (speeches, interviews, debates, etc.)"
                            rows="10"
                        ></textarea>
                        <div class="input-info">
                            <span id="char-count">0</span> characters
                        </div>
                    </div>

                    <!-- File Upload -->
                    <div class="input-panel" id="file-panel">
                        <div class="file-upload-area" id="file-drop-zone">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <p>Drag and drop your file here or click to browse</p>
                            <p class="file-types">Supported: TXT, SRT, VTT</p>
                            <input type="file" id="file-input" accept=".txt,.srt,.vtt" hidden>
                        </div>
                        <div class="file-info" id="file-info" style="display: none;">
                            <i class="fas fa-file-alt"></i>
                            <span id="file-name"></span>
                            <button class="remove-file" onclick="removeFile()">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>

                    <!-- YouTube Input -->
                    <div class="input-panel" id="youtube-panel">
                        <div class="youtube-input">
                            <input 
                                type="text" 
                                id="youtube-url" 
                                placeholder="https://www.youtube.com/watch?v=..."
                            >
                            <div class="input-info">
                                Enter a YouTube video URL to extract and analyze its transcript
                            </div>
                        </div>
                    </div>

                    <!-- Analyze Button -->
                    <button class="analyze-button" id="analyze-button" onclick="startAnalysis()">
                        <i class="fas fa-search"></i>
                        Analyze Transcript
                    </button>
                </section>

                <!-- Progress Section -->
                <section class="progress-section" id="progress-section" style="display: none;">
                    <h2>Analyzing Transcript...</h2>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                    <p class="progress-text" id="progress-text">Initializing...</p>
                    <div class="progress-steps">
                        <div class="step" id="step-1">
                            <i class="fas fa-file-alt"></i>
                            <span>Processing</span>
                        </div>
                        <div class="step" id="step-2">
                            <i class="fas fa-brain"></i>
                            <span>Extracting Claims</span>
                        </div>
                        <div class="step" id="step-3">
                            <i class="fas fa-search"></i>
                            <span>Fact Checking</span>
                        </div>
                        <div class="step" id="step-4">
                            <i class="fas fa-chart-line"></i>
                            <span>Generating Report</span>
                        </div>
                    </div>
                </section>

                <!-- Results Section -->
                <section class="results-section" id="results-section" style="display: none;">
                    <h2>Fact Check Results</h2>
                    
                    <!-- Credibility Score -->
                    <div class="credibility-meter">
                        <div class="meter-container">
                            <div class="meter-fill" id="credibility-fill"></div>
                            <div class="meter-pointer" id="credibility-pointer"></div>
                        </div>
                        <div class="meter-labels">
                            <span>Very Low</span>
                            <span>Low</span>
                            <span>Moderate</span>
                            <span>High</span>
                        </div>
                        <div class="credibility-score">
                            <span id="credibility-value">0</span>%
                            <p id="credibility-label">Calculating...</p>
                        </div>
                    </div>

                    <!-- Summary -->
                    <div class="summary-card">
                        <h3><i class="fas fa-info-circle"></i> Summary</h3>
                        <p id="analysis-summary"></p>
                        <div class="stats-grid">
                            <div class="stat">
                                <span class="stat-value" id="total-claims">0</span>
                                <span class="stat-label">Total Claims</span>
                            </div>
                            <div class="stat">
                                <span class="stat-value" id="verified-claims">0</span>
                                <span class="stat-label">Verified</span>
                            </div>
                            <div class="stat">
                                <span class="stat-value" id="false-claims">0</span>
                                <span class="stat-label">False</span>
                            </div>
                            <div class="stat">
                                <span class="stat-value" id="unverified-claims">0</span>
                                <span class="stat-label">Unverified</span>
                            </div>
                        </div>
                    </div>

                    <!-- Fact Checks -->
                    <div class="fact-checks">
                        <h3><i class="fas fa-list-check"></i> Detailed Fact Checks</h3>
                        <div id="fact-check-list"></div>
                    </div>

                    <!-- Export Options -->
                    <div class="export-options">
                        <h3><i class="fas fa-download"></i> Export Results</h3>
                        <div class="export-buttons">
                            <button onclick="exportResults('json')">
                                <i class="fas fa-file-code"></i> JSON
                            </button>
                            <button onclick="exportResults('pdf')">
                                <i class="fas fa-file-pdf"></i> PDF
                            </button>
                            <button onclick="exportResults('txt')">
                                <i class="fas fa-file-alt"></i> Text
                            </button>
                        </div>
                    </div>

                    <!-- New Analysis Button -->
                    <button class="new-analysis-button" onclick="resetAnalysis()">
                        <i class="fas fa-plus"></i> New Analysis
                    </button>
                </section>
            </div>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <div class="container">
                <p>&copy; 2024 Transcript Fact Checker. Powered by Google Fact Check API.</p>
            </div>
        </footer>
    </div>

    <script src="/static/js/app.js"></script>
</body>
</html>
